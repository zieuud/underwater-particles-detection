def progressive_scan_identi(gray_input):
    for row in range(len(gray_input)):
        gray_scale = gray_input[row]
        outliers = []
        base = gray_scale[0]
        for column in range(len(gray_scale)):
            if column < len(gray_scale) - 1 and int(gray_scale[column + 1]) - int(base) > 5:
                outliers.append(column + 1)
            else:
                base = gray_scale[column + 1] if column < len(gray_scale) - 1 else 0
        for i in outliers:
            gray_input[row, i] = 255
    gray_temp = gray_input.T
    for row in range(len(gray_temp)):
        gray_scale = gray_temp[row]
        white = 0
        gap = 0
        for column in range(len(gray_scale)):
            if gray_scale[column] == 255:
                if 0 < gap < 3:
                    gray_scale[column - 1] = 255
                    gray_scale[column - 2] = 255
                white += 1
                gap = 0
            else:
                gray_scale[column] = 0
                if white == 1:
                    gray_scale[column - 1] = 0
                gap += 1
                white = 0
    gray_output = gray_temp.T
    return gray_output
